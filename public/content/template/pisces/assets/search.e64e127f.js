import{_ as j,d as L,r as M,a as H,o as U,w as G,c as D,b as e,f as r,g as a,h as l,u as I,A as S,i as n,j as i,k as _,s as J,l as O,B as P,n as c,t as d,e as s,F as Q,m as W,p as X}from"./index.9ff7eb4f.js";import{c as Y,F as Z,_ as aa}from"./footer.1784d682.js";const ea="/api/v1/pisces/";function ta(y){return Y({url:ea+"search/keyword/"+y,method:"get"})}const oa={class:"container"},na=c("\u7F51\u7AD9\u9996\u9875"),ia=c("\u641C\u7D22\u7ED3\u679C"),ra={style:{padding:"14px"}},da={class:"goods-name"},la=c("\u8D2D\u4E70"),sa={style:{},class:"goods-name"},ca={class:"goods-info"},ma={class:"image-box"},pa=["onClick","src"],ua={class:"goods-data"},_a=["onClick"],ga={class:"goods-footer"},ba=L({__name:"search",setup(y){const t=M({data:{goods:{},category:{}},loading:!0,template:{site:{}},keyword:"",searchKeyword:""}),g=I(),k=S(),C=H();var K=()=>{console.log(t.searchKeyword),t.searchKeyword!=""&&g.push({path:"/search",query:{keyword:t.searchKeyword}})};U(()=>{G(()=>{t.template=C.value.state.data,X(t.keyword+" - "+t.template.site.shop_title),t.keyword!=k.query.keyword&&(t.keyword=k.query.keyword,ta(t.keyword).then(b=>{t.loading=!1,t.data=b.data}))})});function V(b){g.push({path:"/goods",query:{goods_id:b.id}})}return(b,f)=>{const h=n("el-card"),p=n("el-main"),w=n("el-container"),z=n("el-input"),x=n("el-breadcrumb-item"),R=n("el-breadcrumb"),A=n("el-skeleton-item"),F=n("el-image"),E=n("router-link"),u=n("el-table-column"),m=n("el-tag"),N=n("el-button"),B=n("el-table"),v=n("el-col"),q=n("el-row"),T=n("el-skeleton");return i(),D("div",oa,[e(aa,{default_active:"",ref_key:"headerRef",ref:C},null,512),t.template.notice!=""?(i(),r(w,{key:0},{default:a(()=>[e(p,{style:{"max-width":"1120px",margin:"0 auto",padding:"10px","margin-top":"5px"}},{default:a(()=>[e(h,{shadow:"always",class:"box-card",innerHTML:t.template.notice,style:{padding:"10px 20px"}},null,8,["innerHTML"])]),_:1})]),_:1})):l("",!0),t.template.home_category=="normal"?(i(),r(w,{key:1,class:"search-mobile"},{default:a(()=>[e(p,{style:{"max-width":"1120px",margin:"0 auto",padding:"0 10px"}},{default:a(()=>[e(z,{style:{height:"38px"},class:"w-50 m-2",placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u67E5\u8BE2","suffix-icon":_(J),onKeyup:f[0]||(f[0]=O(o=>_(K)(),["enter"])),modelValue:t.searchKeyword,"onUpdate:modelValue":f[1]||(f[1]=o=>t.searchKeyword=o)},null,8,["suffix-icon","modelValue"])]),_:1})]),_:1})):l("",!0),e(w,null,{default:a(()=>[e(p,{style:{"max-width":"1120px",margin:"0 auto",padding:"10px","margin-top":"5px"}},{default:a(()=>[e(R,{"separator-icon":_(P)},{default:a(()=>[e(x,{to:{path:"/"}},{default:a(()=>[na]),_:1}),e(x,null,{default:a(()=>[ia]),_:1}),e(x,null,{default:a(()=>[c(d(t.keyword),1)]),_:1})]),_:1},8,["separator-icon"])]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(T,{style:{"max-width":"1120px",margin:"0 auto",padding:"20px"},loading:t.loading,animated:"",count:1},{template:a(()=>[s("div",ra,[e(A,{variant:"image"})])]),default:a(()=>[t.template.home_style=="table"?(i(),r(p,{key:0,class:"table-main-pc"},{default:a(()=>[e(h,{shadow:"always","body-style":{padding:"0"}},{default:a(()=>[e(B,{"empty-text":"\u8BE5\u5206\u7C7B\u4E0B\u6682\u65E0\u4EFB\u4F55\u5546\u54C1",data:t.data.goods,style:{width:"100%"},class:"table-list"},{default:a(()=>[e(u,{label:"\u5546\u54C1"},{default:a(o=>[e(E,{to:{path:"/goods",query:{goods_id:o.row.id}}},{default:a(()=>[e(F,{class:"goods-image",src:o.row.cover,fit:"cover"},null,8,["src"]),s("span",da,d(o.row.name),1)]),_:2},1032,["to"])]),_:1}),e(u,{label:"\u4EF7\u683C",width:"120"},{default:a(o=>[e(m,{type:"danger"},{default:a(()=>[c("\uFFE5"+d(o.row.real_price),1)]),_:2},1024)]),_:1}),t.template.sales==1?(i(),r(u,{key:0,label:"\u9500\u91CF",width:"120"},{default:a(o=>[e(m,{class:"",type:"info"},{default:a(()=>[c(d(o.row.sales),1)]),_:2},1024)]),_:1})):l("",!0),t.template.stock==1?(i(),r(u,{key:1,label:"\u5E93\u5B58",width:"120"},{default:a(o=>[s("span",null,[e(m,{class:"",type:"warning"},{default:a(()=>[c(d(o.row.stock_show),1)]),_:2},1024)])]),_:1})):l("",!0),e(u,{label:"\u64CD\u4F5C",width:"100"},{default:a(o=>[e(E,{to:{path:"/goods",query:{goods_id:o.row.id}}},{default:a(()=>[e(N,{size:"small",type:"danger"},{default:a(()=>[la]),_:1})]),_:2},1032,["to"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})):l("",!0),t.template.home_style=="table"?(i(),r(p,{key:1,class:"table-main-mobile"},{default:a(()=>[e(h,{shadow:"always","body-style":{padding:"0"}},{default:a(()=>[e(B,{data:t.data.goods,onRowClick:V,style:{width:"100%"},class:"table-list"},{default:a(()=>[e(u,{label:"\u5546\u54C1"},{default:a(o=>[e(F,{class:"goods-image",src:o.row.cover,fit:"cover"},null,8,["src"]),s("span",sa,d(o.row.name),1),s("div",ca,[e(m,{class:"goods-tag",type:"danger"},{default:a(()=>[c("\uFFE5"+d(o.row.real_price),1)]),_:2},1024),t.template.sales==1?(i(),r(m,{key:0,class:"ml-2 goods-tag",type:"info"},{default:a(()=>[c("\u9500\u91CF"+d(o.row.sales),1)]),_:2},1024)):l("",!0),t.template.stock==1?(i(),r(m,{key:1,class:"ml-2 goods-tag",type:"warning"},{default:a(()=>[c("\u5E93\u5B58"+d(o.row.stock_show),1)]),_:2},1024)):l("",!0)])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})):l("",!0),t.template.home_style=="card"?(i(),r(p,{key:2,class:"card-main"},{default:a(()=>[e(q,{justify:"start",gutter:15},{default:a(()=>[(i(!0),D(Q,null,W(t.data.goods,(o,fa)=>(i(),r(v,{key:o,xs:12,sm:8,md:6,lg:6,xl:6,class:"main-card"},{default:a(()=>[e(h,{"body-style":{padding:"0px"}},{default:a(()=>[s("div",ma,[s("img",{onClick:$=>_(g).push({path:"/goods",query:{goods_id:o.id}}),fit:"fill",src:o.cover,class:"image"},null,8,pa)]),s("div",ua,[s("span",{class:"goods-name",onClick:$=>_(g).push({path:"/goods",query:{goods_id:o.id}})},d(o.name),9,_a),s("div",ga,[e(q,{class:"row-bg",justify:"space-between"},{default:a(()=>[e(v,{span:12,class:"goods-price"},{default:a(()=>[s("span",null,"\uFFE5"+d(o.real_price),1)]),_:2},1024),t.template.stock==1?(i(),r(v,{key:0,span:12,class:"goods-stock"},{default:a(()=>[t.template.stock==1?(i(),r(m,{key:0,class:"ml-2",type:"warning"},{default:a(()=>[c("\u5E93\u5B58"+d(o.stock_show),1)]),_:2},1024)):l("",!0)]),_:2},1024)):l("",!0)]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):l("",!0)]),_:1},8,["loading"])]),_:1}),e(Z,{pet_name:t.template.site.shop_pet_name,beian:t.template.site.beian},null,8,["pet_name","beian"])])}}});var xa=j(ba,[["__scopeId","data-v-47ba8661"]]);export{xa as default};
